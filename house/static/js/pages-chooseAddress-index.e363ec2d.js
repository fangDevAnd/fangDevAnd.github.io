(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chooseAddress-index"],{"0580":function(t,e,i){var a=i("187a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("6f5d8cde",a,!0,{sourceMap:!1,shadowMode:!1})},"163a":function(t,e,i){"use strict";i.r(e);var a=i("c583"),s=i("e381");for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("52ed"),i("611d");var o=i("f0c5"),d=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,"376a3740",null,!1,a["a"],void 0);e["default"]=d.exports},"187a":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.app[data-v-376a3740]{display:flex;flex-direction:column;height:100%;overflow:hidden}.row[data-v-376a3740]{display:flex;align-items:center}.b-b[data-v-376a3740]{position:relative}.b-b[data-v-376a3740]:after{position:absolute;z-index:3;left:0;top:auto;bottom:0;right:0;height:0;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);border-bottom:1px solid #e5e5e5}.clamp[data-v-376a3740]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.current-address[data-v-376a3740]{height:%?120?%;padding:0 %?24?%;background-color:#fff}.current-address .left[data-v-376a3740]{width:%?634?%}.current-address .red[data-v-376a3740]{flex-shrink:0;margin-right:%?6?%;font-size:%?28?%;color:#2979ff;line-height:%?36?%}.current-address .title[data-v-376a3740]{font-size:%?28?%;color:#333;font-weight:700;line-height:%?36?%}.current-address .addr[data-v-376a3740]{width:%?700?%;margin-top:%?12?%;font-size:%?24?%;color:#909399;line-height:1.4}.current-address .ser-icon[data-v-376a3740]{flex-shrink:0;width:%?66?%;height:%?66?%;padding:%?12?% %?4?% %?12?% %?20?%}.confirm-wrap[data-v-376a3740]{height:%?88?%;padding:0 %?24?%;background-color:#fff}.confirm-wrap .input[data-v-376a3740]{flex:1;font-size:%?28?%;color:#303133}.confirm-wrap .btn[data-v-376a3740]{width:%?700?%;padding:0 %?25?%;font-size:%?26?%;color:#fff;height:%?60?%;line-height:%?60?%;background-color:#2979ff;border-radius:%?100?%;text-align:center}.map[data-v-376a3740]{width:%?750?%;height:%?700?%}.map .map-center-icon[data-v-376a3740]{position:absolute;left:%?339?%;top:%?264?%;width:%?72?%;height:%?72?%}.addr-list-scroll[data-v-376a3740]{flex:1;overflow:hidden}.addr-list-scroll .addr-list[data-v-376a3740]{background-color:#fff}.addr-list-scroll .addr-item[data-v-376a3740]{padding:%?24?%}.addr-list-scroll .left[data-v-376a3740]{flex:1;display:flex;flex-direction:column;padding-right:%?50?%}.addr-list-scroll .title[data-v-376a3740]{font-size:%?28?%;color:#303133}.addr-list-scroll .addr[data-v-376a3740]{margin-top:%?10?%;font-size:%?24?%;color:#909399;line-height:1.4}',""]),t.exports=e},"446b":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-376a3740]{height:100%;background:#f6f6f6}body.?%PAGE?%[data-v-376a3740]{background:#f6f6f6}",""]),t.exports=e},"52ed":function(t,e,i){"use strict";var a=i("7a19"),s=i.n(a);s.a},"611d":function(t,e,i){"use strict";var a=i("0580"),s=i.n(a);s.a},"7a19":function(t,e,i){var a=i("446b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("8d84fd84",a,!0,{sourceMap:!1,shadowMode:!1})},b427:function(t,e,i){"use strict";(function(t){i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d81d"),i("d3b7"),i("159b"),i("3c65");var s=a(i("c7eb")),n=a(i("1da1")),o=i("fbb8"),d=new o({key:"34QBZ-XS4K2-WMMUJ-CGPFB-ZNQJQ-LXBIO"}),r=null,c={data:function(){return{curCity:"",mapStatus:1,map:{longitude:116.39742,latitude:39.909},room:"",list:[],checked:0,tempAddress:null}},computed:{currentAddress:function(){return 0===this.list.length?{}:this.list[this.checked]}},created:function(){r=uni.createMapContext("map")},onNavigationBarButtonTap:function(){this.submit()},onLoad:function(t){var e=this;return(0,n.default)((0,s.default)().mark((function i(){var a,n,o,d;return(0,s.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=t.data,!a){i.next=8;break}e.tempAddress=JSON.parse(a),e.room=e.tempAddress.room,n=e.tempAddress.location.lng,o=e.tempAddress.location.lat,i.next=13;break;case 8:return i.next=10,e.getLocation();case 10:d=i.sent,n=+d.longitude,o=+d.latitude;case 13:e.map={longitude:n,latitude:o},e.position={longitude:n,latitude:o},e.getAddressList(1);case 16:case"end":return i.stop()}}),i)})))()},methods:{submit:function(){var t=this.currentAddress,e=(this.room,t.ad_info,t.address),i=t.location;t.title;uni.$emit("changeAddressConfig",e,i.lng,i.lat),uni.navigateBack()},getAddressList:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1!==this.isSetTempAddress&&d.reverseGeocoder({location:{latitude:this.position.latitude,longitude:this.position.longitude},get_poi:1,poi_options:"page_size=30;page_index=1",success:function(t){if(t.result.pois.forEach((function(t){t.ad_info||(t.ad_info={adcode:t.adcode,city:t.city,district:t.district,province:t.province})})),e.tempAddress&&(e.tempAddress.title!=t.result.pois[0].title&&(e.tempAddress.ad_info||(e.tempAddress.ad_info={adcode:e.tempAddress.adcode,city:e.tempAddress.city,district:e.tempAddress.district,province:e.tempAddress.province}),t.result.pois.unshift(e.tempAddress)),e.tempAddress=null,e.isSetTempAddress=1,setTimeout((function(){e.isSetTempAddress=0}),500)),i){var a=t.result.pois[0].ad_info;e.curCity=a.city||"",t.result.pois[0].select=1,e.list=t.result.pois,e.checked=0}else e.list=t.result.pois},fail:function(e){t("log",e," at pages/chooseAddress/index.vue:174")}})},onRegionchange:function(e){var i=this;clearTimeout(this.timer),this.timer=setTimeout((function(){"end"!==e.type&&"regionchange"!==e.type||r.getCenterLocation({success:function(t){i.position={latitude:t.latitude,longitude:t.longitude},1==i.mapStatus&&i.getAddressList(1)},fail:function(e){t("log",e," at pages/chooseAddress/index.vue:195")}})}),200)},chooseAddress:function(t){var e=this,i=this.list;this.map={longitude:i[t].location.lng,latitude:i[t].location.lat},this.checked=t,this.mapStatus=0,clearTimeout(this.mapStatusTimer),this.mapStatusTimer=setTimeout((function(){e.mapStatus=1}),1e3)},getLocation:function(){return new Promise((function(e){uni.getLocation({type:"gcj02",success:function(i){t("log","------",i," at pages/chooseAddress/index.vue:223"),e({longitude:i.longitude,latitude:i.latitude})},err:function(i){t("log",i," at pages/chooseAddress/index.vue:231"),e({longitude:116.39742,latitude:39.909})},complete:function(e){t("log",e," at pages/chooseAddress/index.vue:238")}})}))},navTo:function(t){uni.navigateTo({url:t})}}};e.default=c}).call(this,i("0de9")["log"])},c583:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={uIcon:i("2240").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"app"},[i("v-uni-view",{staticClass:"current-address row b-b"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-view",{staticClass:"row"},[i("v-uni-text",{staticClass:"red"},[t._v("[当前]")]),i("v-uni-text",{staticClass:"title"},[t._v(t._s(t.currentAddress.title))])],1),i("v-uni-text",{staticClass:"addr clamp"},[t._v(t._s(t.currentAddress.address))])],1),i("u-icon",{attrs:{size:"40",name:"search"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("search?city="+t.curCity)}}})],1),i("v-uni-view",{staticClass:"confirm-wrap row"},[i("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("确定")])],1),i("v-uni-map",{staticClass:"map",attrs:{id:"map",scale:15,"show-location":!0,longitude:t.map.longitude,latitude:t.map.latitude},on:{regionchange:function(e){arguments[0]=e=t.$handleEvent(e),t.onRegionchange.apply(void 0,arguments)}}},[i("v-uni-cover-image",{staticClass:"map-center-icon",attrs:{src:"https://7478-tx-cloud-mix-mall-d6944c-1302673523.tcb.qcloud.la/5bfbd58b18200d8e16f6b17a02e6ed9.png"}})],1),i("v-uni-scroll-view",{staticClass:"addr-list-scroll",attrs:{"scroll-y":!0}},[i("v-uni-view",{staticClass:"addr-list"},t._l(t.list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"addr-item b-b row",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseAddress(a)}}},[i("v-uni-view",{staticClass:"left"},[i("v-uni-text",{staticClass:"title"},[t._v(t._s(e.title))]),i("v-uni-text",{staticClass:"addr"},[t._v(t._s(e.address))])],1),t.checked===a?i("v-uni-icon",{staticClass:"icon_circle",attrs:{type:"success",color:"#2979ff",size:"18"}}):t._e()],1)})),1)],1)],1)},n=[]},e381:function(t,e,i){"use strict";i.r(e);var a=i("b427"),s=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a}}]);